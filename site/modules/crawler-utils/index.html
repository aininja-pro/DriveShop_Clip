
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://aininja-pro.github.io/DriveShop_Clip/modules/crawler-utils/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Crawler Utilities Documentation - DriveShop Clip Tracking System</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#crawler-utilities-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DriveShop Clip Tracking System" class="md-header__button md-logo" aria-label="DriveShop Clip Tracking System" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DriveShop Clip Tracking System
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Crawler Utilities Documentation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DriveShop Clip Tracking System" class="md-nav__button md-logo" aria-label="DriveShop Clip Tracking System" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    DriveShop Clip Tracking System
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../module_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ingest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Utilities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Utilities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crawler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crawler-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crawler Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../creatoriq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CreatorIQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Utilities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment & Support
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deployment & Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/setup.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/future.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Future Enhancements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/support.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support & Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#module-srcutilsenhanced_crawler_managerpy" class="md-nav__link">
    <span class="md-ellipsis">
      Module: src/utils/enhanced_crawler_manager.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module: src/utils/enhanced_crawler_manager.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-functionsclasses" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions/Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions/Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enhancedcrawlermanager-class" class="md-nav__link">
    <span class="md-ellipsis">
      EnhancedCrawlerManager Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Core Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tier-implementation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Tier Implementation Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tiered-escalation-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Tiered Escalation Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-inputsoutputs" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Inputs/Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expected Inputs/Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-srcutilscontent_extractorpy" class="md-nav__link">
    <span class="md-ellipsis">
      Module: src/utils/content_extractor.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module: src/utils/content_extractor.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose_1" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-functionsclasses_1" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions/Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions/Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contentextractor-class" class="md-nav__link">
    <span class="md-ellipsis">
      ContentExtractor Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-methods_1" class="md-nav__link">
    <span class="md-ellipsis">
      Core Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-specific-handlers" class="md-nav__link">
    <span class="md-ellipsis">
      Site-Specific Handlers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-extraction-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Content Extraction Strategies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-inputsoutputs_1" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Inputs/Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expected Inputs/Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs_1" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-srcutilsbrowser_crawlerpy" class="md-nav__link">
    <span class="md-ellipsis">
      Module: src/utils/browser_crawler.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module: src/utils/browser_crawler.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose_2" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-functionsclasses_2" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions/Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions/Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#browsercrawler-class" class="md-nav__link">
    <span class="md-ellipsis">
      BrowserCrawler Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mockbrowsercrawler-class" class="md-nav__link">
    <span class="md-ellipsis">
      MockBrowserCrawler Class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Browser Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-inputsoutputs_2" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Inputs/Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expected Inputs/Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs_2" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs_2" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-srcutilsdate_extractorpy" class="md-nav__link">
    <span class="md-ellipsis">
      Module: src/utils/date_extractor.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module: src/utils/date_extractor.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose_3" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-functionsclasses_3" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions/Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions/Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Core Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extraction-methods-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Extraction Methods Hierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-inputsoutputs_3" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Inputs/Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expected Inputs/Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs_3" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs_3" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-srcutilsescalationpy" class="md-nav__link">
    <span class="md-ellipsis">
      Module: src/utils/escalation.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module: src/utils/escalation.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose_4" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-functionsclasses_4" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions/Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions/Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-functions_1" class="md-nav__link">
    <span class="md-ellipsis">
      Core Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-management" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-inputsoutputs_4" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Inputs/Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expected Inputs/Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs_4" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs_4" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-with-crawler-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with Crawler Manager
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="crawler-utilities-documentation">Crawler Utilities Documentation</h1>
<h2 id="module-srcutilsenhanced_crawler_managerpy">Module: <code>src/utils/enhanced_crawler_manager.py</code></h2>
<h3 id="purpose">Purpose</h3>
<p>The Enhanced Crawler Manager implements a sophisticated 6+ tier escalation system for web content extraction. It provides intelligent content quality detection, caching, index page discovery, and seamless integration with multiple scraping services. This is the primary crawler orchestrator used in production.</p>
<h3 id="key-functionsclasses">Key Functions/Classes</h3>
<h4 id="enhancedcrawlermanager-class">EnhancedCrawlerManager Class</h4>
<pre><code class="language-python">class EnhancedCrawlerManager:
    &quot;&quot;&quot;
    Advanced web content extraction with multi-tier escalation.
    Features caching, quality checks, and intelligent routing.
    &quot;&quot;&quot;

    def __init__(self):
        &quot;&quot;&quot;Initialize with cache manager and API clients.&quot;&quot;&quot;
</code></pre>
<h4 id="core-methods">Core Methods</h4>
<pre><code class="language-python">def extract_content(self, url: str, expected_make: str = None, 
                   expected_model: str = None, journalist_name: str = None,
                   publication_date: str = None, max_tier: int = 7) -&gt; Dict:
    &quot;&quot;&quot;
    Main extraction method with progressive escalation.
    Returns: {content, source, tier_used, byline_author, attribution_strength}
    &quot;&quot;&quot;

def is_content_high_quality(self, content: str, url: str,
                           expected_make: str = None, 
                           expected_model: str = None) -&gt; bool:
    &quot;&quot;&quot;
    Validates content quality using multiple heuristics.
    Detects index pages and validates relevance.
    &quot;&quot;&quot;
</code></pre>
<h4 id="tier-implementation-methods">Tier Implementation Methods</h4>
<pre><code class="language-python">def try_tier_1_basic_http(self, url: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Basic HTTP request with minimal headers.&quot;&quot;&quot;

def try_tier_2_enhanced_http(self, url: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Enhanced HTTP with browser-like headers and cookies.&quot;&quot;&quot;

def try_tier_3_rss_feed(self, url: str, expected_make: str, 
                       expected_model: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract content via RSS feed if available.&quot;&quot;&quot;

def try_tier_4_scrapfly(self, url: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Premium scraping via ScrapFly API.&quot;&quot;&quot;

def try_tier_5_5_index_page_discovery(self, url: str, expected_make: str,
                                     expected_model: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Discover article from index page.&quot;&quot;&quot;

def try_tier_6_google_search(self, url: str, expected_make: str,
                            expected_model: str, journalist_name: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Find article via Google Search.&quot;&quot;&quot;
</code></pre>
<h3 id="tiered-escalation-strategy">Tiered Escalation Strategy</h3>
<ol>
<li><strong>Tier 1 - Basic HTTP</strong> (0.5-1s)</li>
<li>Simple requests with standard headers</li>
<li>
<p>Fastest, works for ~40% of sites</p>
</li>
<li>
<p><strong>Tier 2 - Enhanced HTTP</strong> (1-2s)</p>
</li>
<li>Browser-like headers and session management</li>
<li>Content quality validation</li>
<li>
<p>Works for ~60% of sites</p>
</li>
<li>
<p><strong>Tier 3 - RSS Feed</strong> (1-2s)</p>
</li>
<li>Structured data extraction</li>
<li>Free and reliable when available</li>
<li>
<p>~10% of sites support RSS</p>
</li>
<li>
<p><strong>Tier 4 - ScrapFly API</strong> (2-5s)</p>
</li>
<li>Premium residential proxies</li>
<li>Handles anti-bot protection</li>
<li>
<p>99.9% success rate</p>
</li>
<li>
<p><strong>Tier 5.5 - Index Discovery</strong> (5-10s)</p>
</li>
<li>Crawls category/index pages</li>
<li>Finds specific article links</li>
<li>
<p>Similar to YouTube processing</p>
</li>
<li>
<p><strong>Tier 6 - Google Search</strong> (3-5s)</p>
</li>
<li>Searches for specific article</li>
<li>Uses journalist + make/model</li>
<li>
<p>Fallback discovery method</p>
</li>
<li>
<p><strong>Tier 7 - Playwright</strong> (10-20s)</p>
</li>
<li>Full browser automation</li>
<li>Last resort option</li>
<li>Handles complex JS sites</li>
</ol>
<h3 id="expected-inputsoutputs">Expected Inputs/Outputs</h3>
<h4 id="inputs">Inputs</h4>
<pre><code class="language-python">{
    'url': 'https://example.com/article',
    'expected_make': 'Honda',
    'expected_model': 'Accord',
    'journalist_name': 'John Doe',
    'publication_date': '2024-01-15',
    'max_tier': 7  # Stop at this tier
}
</code></pre>
<h4 id="outputs">Outputs</h4>
<pre><code class="language-python">{
    'content': 'Extracted article text...',
    'source': 'tier_2_enhanced_http',
    'tier_used': 2,
    'byline_author': 'John Doe',
    'attribution_strength': 'strong',
    'cached': False,
    'extraction_time': 1.5
}
</code></pre>
<h3 id="dependencies">Dependencies</h3>
<pre><code class="language-python"># External
import requests
from bs4 import BeautifulSoup
import feedparser

# Internal  
from src.utils.cache_manager import CacheManager
from src.utils.content_extractor import ContentExtractor
from src.utils.scrapfly_client import ScrapFlyClient
from src.utils.google_search import search_google
from src.utils.browser_crawler import BrowserCrawler
</code></pre>
<hr />
<h2 id="module-srcutilscontent_extractorpy">Module: <code>src/utils/content_extractor.py</code></h2>
<h3 id="purpose_1">Purpose</h3>
<p>The Content Extractor provides intelligent HTML content extraction with site-specific handlers and multiple fallback strategies. It focuses on extracting clean, relevant article text while filtering out navigation, ads, and other non-content elements.</p>
<h3 id="key-functionsclasses_1">Key Functions/Classes</h3>
<h4 id="contentextractor-class">ContentExtractor Class</h4>
<pre><code class="language-python">class ContentExtractor:
    &quot;&quot;&quot;
    Intelligent content extraction from HTML.
    Implements site-specific and generic extraction methods.
    &quot;&quot;&quot;
</code></pre>
<h4 id="core-methods_1">Core Methods</h4>
<pre><code class="language-python">def extract_article_content(html_content: str, url: str = None,
                          expected_topic: str = None,
                          extraction_type: str = &quot;default&quot;) -&gt; Optional[str]:
    &quot;&quot;&quot;
    Main extraction method with multiple strategies.
    Handles site-specific extractors and fallbacks.
    &quot;&quot;&quot;

def extract_basic_content(soup: BeautifulSoup) -&gt; str:
    &quot;&quot;&quot;
    Generic content extraction using common selectors.
    Tries multiple article body indicators.
    &quot;&quot;&quot;

def extract_alternative_methods(soup: BeautifulSoup, url: str,
                              expected_topic: str) -&gt; Optional[str]:
    &quot;&quot;&quot;
    Alternative extraction when basic method fails.
    Includes title-based, density-based, and full-text methods.
    &quot;&quot;&quot;
</code></pre>
<h4 id="site-specific-handlers">Site-Specific Handlers</h4>
<pre><code class="language-python">def extract_fliphtml5_content(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract from FlipHTML5 embedded viewers.&quot;&quot;&quot;

def extract_spotlightepnews_content(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Handle PDF viewers and flipbook format.&quot;&quot;&quot;

def extract_thegentlemanracer_content(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Remove sidebar content and extract main article.&quot;&quot;&quot;
</code></pre>
<h3 id="content-extraction-strategies">Content Extraction Strategies</h3>
<ol>
<li><strong>Site-Specific Extraction</strong></li>
<li>Custom handlers for known problematic sites</li>
<li>
<p>Handles embedded viewers, PDFs, flipbooks</p>
</li>
<li>
<p><strong>Basic Extraction</strong></p>
</li>
<li>Common article selectors (article, .content, etc.)</li>
<li>Paragraph concatenation</li>
<li>
<p>Clean text output</p>
</li>
<li>
<p><strong>Alternative Methods</strong></p>
</li>
<li>Title-based discovery</li>
<li>Paragraph density analysis  </li>
<li>Longest text block</li>
<li>
<p>Full text with filtering</p>
</li>
<li>
<p><strong>Content Quality Scoring</strong></p>
</li>
<li>Paragraph count and structure</li>
<li>Text length validation</li>
<li>Navigation element detection</li>
<li>Article indicator presence</li>
</ol>
<h3 id="expected-inputsoutputs_1">Expected Inputs/Outputs</h3>
<h4 id="inputs_1">Inputs</h4>
<pre><code class="language-python">{
    'html_content': '&lt;html&gt;...&lt;/html&gt;',
    'url': 'https://example.com/article',
    'expected_topic': 'Honda Accord',
    'extraction_type': 'default'  # or 'basic', 'alternative'
}
</code></pre>
<h4 id="outputs_1">Outputs</h4>
<ul>
<li>Clean article text (string)</li>
<li>None if extraction fails</li>
<li>Filtered content without navigation/ads</li>
</ul>
<hr />
<h2 id="module-srcutilsbrowser_crawlerpy">Module: <code>src/utils/browser_crawler.py</code></h2>
<h3 id="purpose_2">Purpose</h3>
<p>The Browser Crawler provides thread-safe headless browser automation using Playwright. It implements anti-detection measures and handles JavaScript-heavy sites that require full browser rendering.</p>
<h3 id="key-functionsclasses_2">Key Functions/Classes</h3>
<h4 id="browsercrawler-class">BrowserCrawler Class</h4>
<pre><code class="language-python">class BrowserCrawler:
    &quot;&quot;&quot;
    Thread-safe Playwright browser automation.
    Creates fresh browser instance per crawl.
    &quot;&quot;&quot;

    def crawl(self, url: str, wait_for: str = &quot;networkidle&quot;,
             wait_time: int = 5, scroll: bool = True) -&gt; str:
        &quot;&quot;&quot;
        Crawl URL with headless browser.
        Returns page HTML after rendering.
        &quot;&quot;&quot;
</code></pre>
<h4 id="mockbrowsercrawler-class">MockBrowserCrawler Class</h4>
<pre><code class="language-python">class MockBrowserCrawler:
    &quot;&quot;&quot;
    Mock implementation for testing.
    Returns simple HTML without browser overhead.
    &quot;&quot;&quot;
</code></pre>
<h3 id="browser-configuration">Browser Configuration</h3>
<ol>
<li><strong>Stealth Features</strong></li>
<li>Hides webdriver properties</li>
<li>Randomized viewport sizes</li>
<li>
<p>Realistic user agent strings</p>
</li>
<li>
<p><strong>Navigation Strategies</strong></p>
</li>
<li><code>networkidle</code>: Wait for network quiet</li>
<li><code>domcontentloaded</code>: Wait for DOM ready</li>
<li>
<p><code>load</code>: Wait for page load event</p>
</li>
<li>
<p><strong>Resource Management</strong></p>
</li>
<li>Fresh browser per crawl</li>
<li>Automatic cleanup</li>
<li>Thread-safe operation</li>
</ol>
<h3 id="expected-inputsoutputs_2">Expected Inputs/Outputs</h3>
<h4 id="inputs_2">Inputs</h4>
<pre><code class="language-python">{
    'url': 'https://example.com',
    'wait_for': 'networkidle',
    'wait_time': 5,
    'scroll': True
}
</code></pre>
<h4 id="outputs_2">Outputs</h4>
<ul>
<li>Rendered HTML content (string)</li>
<li>Empty string on failure</li>
</ul>
<hr />
<h2 id="module-srcutilsdate_extractorpy">Module: <code>src/utils/date_extractor.py</code></h2>
<h3 id="purpose_3">Purpose</h3>
<p>The Date Extractor provides comprehensive publication date extraction from web content using multiple methods including structured data, meta tags, CSS selectors, and text patterns.</p>
<h3 id="key-functionsclasses_3">Key Functions/Classes</h3>
<h4 id="core-functions">Core Functions</h4>
<pre><code class="language-python">def extract_published_date(html_content: str, url: str = None) -&gt; Optional[str]:
    &quot;&quot;&quot;
    Extract publication date using multiple strategies.
    Returns ISO format date string or None.
    &quot;&quot;&quot;

def extract_date_from_structured_data(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract from JSON-LD, microdata schemas.&quot;&quot;&quot;

def extract_date_from_meta_tags(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract from Open Graph, Dublin Core meta tags.&quot;&quot;&quot;

def extract_date_from_selectors(soup: BeautifulSoup) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract using common CSS date selectors.&quot;&quot;&quot;

def extract_date_from_text_patterns(text: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Extract using regex patterns for date formats.&quot;&quot;&quot;
</code></pre>
<h3 id="extraction-methods-hierarchy">Extraction Methods Hierarchy</h3>
<ol>
<li><strong>Structured Data</strong> (Most reliable)</li>
<li>JSON-LD schemas</li>
<li>Microdata markup</li>
<li>
<p>Schema.org properties</p>
</li>
<li>
<p><strong>Meta Tags</strong></p>
</li>
<li>Open Graph (og:published_time)</li>
<li>Dublin Core (DC.date)</li>
<li>
<p>Article metadata</p>
</li>
<li>
<p><strong>CSS Selectors</strong></p>
</li>
<li>Common date classes (.date, .publish-date)</li>
<li>Time elements</li>
<li>
<p>Site-specific patterns</p>
</li>
<li>
<p><strong>Text Patterns</strong> (Fallback)</p>
</li>
<li>Regex for various date formats</li>
<li>Natural language parsing</li>
<li>Sanity validation</li>
</ol>
<h3 id="expected-inputsoutputs_3">Expected Inputs/Outputs</h3>
<h4 id="inputs_3">Inputs</h4>
<pre><code class="language-python">{
    'html_content': '&lt;html&gt;...&lt;/html&gt;',
    'url': 'https://example.com/article'
}
</code></pre>
<h4 id="outputs_3">Outputs</h4>
<ul>
<li>ISO format date string: "2024-01-15"</li>
<li>None if no valid date found</li>
</ul>
<hr />
<h2 id="module-srcutilsescalationpy">Module: <code>src/utils/escalation.py</code></h2>
<h3 id="purpose_4">Purpose</h3>
<p>The Escalation module manages domain-specific crawling strategies, determining the appropriate starting tier and escalation path based on site characteristics and configuration.</p>
<h3 id="key-functionsclasses_4">Key Functions/Classes</h3>
<h4 id="core-functions_1">Core Functions</h4>
<pre><code class="language-python">def load_media_sources() -&gt; pd.DataFrame:
    &quot;&quot;&quot;
    Load media source configuration from CSV.
    Contains domain-specific crawl strategies.
    &quot;&quot;&quot;

def get_domain_crawl_level(domain: str, media_sources_df: pd.DataFrame) -&gt; int:
    &quot;&quot;&quot;
    Determine starting crawl level for domain.
    Based on js_mode and other indicators.
    &quot;&quot;&quot;

def requires_js_rendering(domain: str) -&gt; bool:
    &quot;&quot;&quot;
    Check if domain requires JavaScript rendering.
    Uses configuration and heuristics.
    &quot;&quot;&quot;
</code></pre>
<h3 id="configuration-management">Configuration Management</h3>
<ol>
<li>
<p><strong>Media Sources CSV</strong>
   <code>csv
   domain,js_mode,start_tier
   example.com,true,4
   simple.com,false,1</code></p>
</li>
<li>
<p><strong>Domain Classification</strong></p>
</li>
<li>JavaScript-heavy sites</li>
<li>Simple HTML sites</li>
<li>API-required sites</li>
<li>
<p>Premium proxy sites</p>
</li>
<li>
<p><strong>Escalation Rules</strong></p>
</li>
<li>Start tier selection</li>
<li>Max tier limits</li>
<li>Skip tier options</li>
</ol>
<h3 id="expected-inputsoutputs_4">Expected Inputs/Outputs</h3>
<h4 id="inputs_4">Inputs</h4>
<ul>
<li>Domain name (string)</li>
<li>Media sources configuration</li>
</ul>
<h4 id="outputs_4">Outputs</h4>
<ul>
<li>Starting crawl level (integer)</li>
<li>JavaScript requirement (boolean)</li>
<li>Escalation strategy parameters</li>
</ul>
<h3 id="integration-with-crawler-manager">Integration with Crawler Manager</h3>
<p>The escalation module provides the intelligence for:
- Selecting optimal starting tier
- Avoiding unnecessary escalation
- Domain-specific optimizations
- Performance tuning per site</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [{"navigation.tabs": false}], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>